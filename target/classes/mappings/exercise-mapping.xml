<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="DumbellDAO">
	
	<!-- 운동 상세보기 -->
	<select id="getDumbell" parameterType="int" resultType="dumbell">
		SELECT * FROM dumbell_exercise
		WHERE
		deseq=#{de_seq}
	</select>

	<!-- 덤벨운동 목록 조회 -->
	<select id="listDumbell" parameterType="String" resultType="dumbell">
		SELECT *
		  FROM dumbell_exercise
		 WHERE dex_name LIKE '%'||#{dex_name, jdbcType=VARCHAR}||'%'
		 ORDER BY deseq DESC 
	</select>
	
	<!-- 부위별(카테고리) 목록조회 -->
	<select id="getDumbellListByKind" resultType="dumbell">
		SELECT * FROM dumbell_exercise
		WHERE dex_part=#{dex_part, jdbcType=VARCHAR}
		ORDER BY deseq
	</select>
	
	<!-- 운동 추가 -->
	<insert id="insertDumbell">
		INSERT INTO dumbell_exercise (
			deseq, dex_name, dex_part, dex_description, dex_img)
		VALUES(de_seq.NEXTVAL, #{dex_name, jdbcType=VARCHAR}, #{dex_part, jdbcType=VARCHAR}, 
			#{dex_description, jdbcType=VARCHAR},
			#{dex_img, jdbcType=VARCHAR})
	</insert>
	
	<!-- 운동 수정 -->
	<update id="updateDumbell">
		UPDATE dumbell_exercise
		SET 
		dex_name = #{dex_name, jdbcType=VARCHAR},
		dex_part = #{dex_part, jdbcType=VARCHAR},
		dex_description = #{dex_description, jdbcType=VARCHAR},
		dex_img = #{dex_img, jdbcType=VARCHAR}
		WHERE deseq=#{de_seq}
	</update>
	
	<!-- 운동 삭제 -->
	<delete id="deleteDumbell" parameterType="int">
		delete from dumbell_exercise
			where deseq=#{de_seq}
	</delete>
</mapper>